<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <base href=".."/>
    <link rel="stylesheet" type="text/css" href="static/style.css"/>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-27302158-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-27302158-1');
    </script>
    <title>The Crown Jewels Job : Will Edward&#39;s Programming</title>
    <!--
    <post>
<title>The Crown Jewels Job</title>
<date>2012-12-21</date>
<tag>rec</tag>
<tag>ludum-dare</tag>
</post>
    -->
    
</head>
<body>
<div class="content">
<div class="column">
    <div style="width: 90%;" class="page-link" onclick="window.location='index.html'">
    <h1>Will Edwards<br/><i>programming</i></h1>
    </div>
    <p><b>I have always loved programming</b> - its like Lego without gravity.</p>
    <p>Basic on my ZX81 graduating to assembler and Turbo Pascal during my teens.</p>
    <p>Developed phone OS software - engineer, architect, product manager - but got made irrelevant by the
        iPhone and redundant by Android.</p>
    <p style="font-size: 16pt; width:90%;">These days I mostly work with <b>data</b>, <b>big data</b> and <b><i>fitting big data onto small boxes</i></b>.</p>
</div>
<div class="posts-column column">
<div class="page-title"><h1>The Crown Jewels Job</h1></div>
<div class="post">
<post-body><p><em>Introducing</em> our game for the <a href="http://www.ludumdare.com/compo/ludum-dare-25/?action=preview&amp;uid=10313" target="_blank">Ludum
                Dare #25</a> competition:</p>
                <p><big><a href="https://williame.github.com/ludum_dare_25_you_are_the_villain/" target="_blank">The Crown Jewels Job!</a></big></p>
                <p><iframe frameborder="0" height="315" src="http://www.youtube.com/embed/W5T_mswWhnQ" width="420"> </iframe></p>
                <p>To think we made all this in just 72 hours?!</p>
                <p>The theme for the competition was “<em>you are the villain</em>”.</p>
                <p>We wanted to make a game that my young daughters could (be allowed to) play, which meant no
                blood and guts and swearing etc.  It had to be tame, innocent fun.  We settled on a very classic
                platform-game idea.  If you ‘die’, you actually go to prison.  Being cast as the
                baddie doesn’t mean you become a goodie, not when its made by a prudish dad like me!</p>
                <p>The artwork is excellent as usual, due entirely to my co-conspirator, the <a href="post/37291851878.html" target="_blank">usual suspect</a>.  The general engine - which I coded - whilst cool in that I
                made it from scratch, is not so great.</p>
                <p>If there’s a criticism of the game-play its the wrong-feeling control system.</p>
                <p><!-- more -->Normally, platform games are made from tiles.  And this is a very sensible
                way to do it!  Of course, we made our platform game free-form with arbitrary lines to define floors,
                ceilings, walls and so on.</p>
                <p>And just how do you do a free-form platform game when you haven’t tackled the problem
                before?  Poorly!</p>
                <p>I did turn, in frustration, on day 2 in towards box2djs.  There are several ports of box2d to
                Javascript and the first I found relied on prototype.js which in turn broke all my existing code by
                monkey-patching object!</p>
                <p>Later towards the end of day 2 I turned again to box2d and found a much cleaner
                automated-conversion port to Javascript.  This was one file with no other dependencies!  The only down
                side being, I had <em>never</em> used box2d before!</p>
                <p>After a fruitless hour I gave up and reverted to the simple possiblest thing.  If the feature
                size of an object in the game is bigger than the player’s width, we can simply see each tick
                if we are overlapping a wall, ceiling or floor and adjust the player’s movement vector
                appropriately.</p>
                <p>(Just <em>two days</em> after the contest finished, <a href="https://www.binarytides.com/make-html5-game-box2d-javascript-tutorial/" target="_blank">this
                excellent article</a> on how to use box2d turned up on proggit!  Life is so unfair!  It would have
                been exactly what we needed and, if we’d had this article on the Sunday, we’d have
                been happy box2d campers!  As it was the articles we did find instead were … unhelpful and
                rehashes of the same boiler-plate-without-actual-game example-code :( )</p>
                <p>Actually this works!  The sloppy control is more us not having that polished and not technical
                limitations with the engine.</p>
                <p>The player logic is simple - floor beneath us (within some y threshold)?  Continue.  No floor? 
                Go to falling mode.</p>
                <p>I had to make a simple quad-tree so that we were not evaluating all lines each frame.  Funnily
                enough, I couldn’t find a nice simple one for Javascript anywhere.</p>
                <p>We added some spiders that run along the ceilings.  And this was just the inversion of that
                logic: ceiling above us?  Continue.  No ceiling? Fall upwards!</p>
                <p>Which worked well enough until we discovered spiders creeping to the stair wells and then
                flying upwards all the way up to the battlements and beyond!</p>
                <p>And this would cause our game to lock up, because the spider would be flying through empty
                space which happened to be expensive in my quad-tree, causing the game loop to have more work to do in a
                cycle than the length of a cycle, and so never catching up…</p>
                <p>Rather than optimise the quad-tree search and change spider behaviour, we were so running out
                of time I simply disabled spiders.</p>
                <p>On the Megaglest IRC we found a coder called Virgo who contributed some tweaked jumping logic
                and the random patrolling of the guards!</p>
                <p>But all told, we have rather too much engine and not enough play-testing and tweaking.</p>
                <p>Still, I am terribly proud of what we built!</p>
            </post-body>
 <button class="page-link" onclick="window.location='rec1.html#38462176877'">rec</button>  <button class="page-link" onclick="window.location='ludum-dare.html#38462176877'">ludum-dare</button>  <button class="page-link" onclick="window.location='index2.html#38462176877'">index</button> 
    <span class="post-metadata"><i>posted 2012-12-21</i></span>
</div>
</div>
</div>


<div class="column">
    <div class="page-map">
        <h1 style="text-align: center">jump to &darr;</h1>
        <hr/>
        
            <div class="page-link" onclick="window.location='index.html'">main&nbsp;page&nbsp;&uarr;</div>
            <hr/>
        
        
            


        
            

    <div class="page-map-branch">
    <b>performance</b>
        
            <img class="feather" src="static/icons/bar-chart-2.svg"/>
        
        
            <div class="page-map-section">
            
                
                    <div class="page-map-leaf" onclick="window.location='post/172424230628.html'">Faster searches with non-prefix fields in composite indices</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/160628887798.html'">Compressing MySQL databases</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/53836725910.html'">What highscalability.com says about Scaling my Server</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/53751799442.html'">Scaling my Server: follow-up</div>
                
            
                
                    <div class="page-link" onclick="window.location='perf.html'">more&nbsp;&rarr;</div>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
            </div>
        
    </div>


        
            

    <div class="page-map-branch">
    <b>old classics</b>
        
            <img class="feather" src="static/icons/book-open.svg"/>
        
        
            <div class="page-map-section">
            
                
                    <div class="page-map-leaf" onclick="window.location='post/49786413417.html'">The kid&#39;s computer</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/37291851878.html'">Making the History of Worlds Religions map</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/25564136097.html'">If you defend those involved in the OpenGL ES specification, you are an idiot</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/25426541504.html'">Stackoverflow unwinding?</div>
                
            
                
                    <div class="page-link" onclick="window.location='classic.html'">more&nbsp;&rarr;</div>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
            </div>
        
    </div>


        
            

    <div class="page-map-branch">
    <b>general</b>
        
            <img class="feather" src="static/icons/terminal.svg"/>
        
        
            <div class="page-map-section">
            
                
                    <div class="page-map-leaf" onclick="window.location='post/134911547413.html'">Why Swift?</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/94734034483.html'">Python annotations and type checking</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/86488099258.html'">pycon 2014 Sweden: the bad bits</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/78636919764.html'">Table-based Template Translation in C++</div>
                
            
                
                    <div class="page-link" onclick="window.location='lang.html'">more&nbsp;&rarr;</div>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
            </div>
        
    </div>


        
            

    <div class="page-map-branch">
    <b>recreation</b>
        
            <img class="feather" src="static/icons/youtube.svg"/>
        
        
            <div class="page-link" onclick="window.location='rec.html'">all&nbsp;&rarr;</div>
            <div class="page-map-section">
            
                

    <div class="page-map-branch">
    <b>games programming</b>
        
            <img class="feather" src="static/icons/play.svg"/>
        
        
            <div class="page-map-section">
            
                
                    <div class="page-map-leaf" onclick="window.location='post/57140204975.html'">Perlin Noise</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/57181055984.html'">Perlin Noise</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/53831974133.html'">Drawing RTS maps fast</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/49797579721.html'">WillCity update</div>
                
            
                
                    <div class="page-link" onclick="window.location='game.html'">more&nbsp;&rarr;</div>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
            </div>
        
    </div>


            
                

    <div class="page-map-branch">
    <b>ludum-dare</b>
        
        
            <div class="page-map-section">
            
                
                    <div class="page-map-leaf" onclick="window.location='post/143376853353.html'">Ludum Dare #35 Mosaic</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/127137593983.html'">LudumDare 33 wallpapers</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/117234199303.html'">SSIM vs MSE for Mosaics</div>
                
            
                
                    <div class="page-map-leaf" onclick="window.location='post/97634254788.html'">Ludum Dare 30 results are in!</div>
                
            
                
                    <div class="page-link" onclick="window.location='ludum-dare.html'">more&nbsp;&rarr;</div>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
            </div>
        
    </div>


            
            </div>
        
    </div>


        
        
    </div>
</div>
</body>
</html>